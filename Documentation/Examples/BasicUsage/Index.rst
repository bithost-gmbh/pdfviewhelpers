.. ==================================================
.. FOR YOUR INFORMATION
.. --------------------------------------------------
.. -*- coding: utf-8 -*- with BOM.

.. include:: ../../Includes.txt

.. _basicusage:

Basic Usage
===========

.. _basicusage_typoscript:

TypoScript
----------

::

	pdfpage = PAGE
	pdfpage {
		10 = FLUIDTEMPLATE
		10 {
			file = EXT:pdfviewhelpers/Resources/Public/Examples/BasicUsage/Bithost.html
		}
		# ensure there is no other output apart from the pdf
		# take a look at the generated pdf file (end!) in a text editor to verify there is no other output
		# like warnings, error messages or html code
		config {
			disableAllHeaderCode = 1
			xhtml_cleaning = 0
			admPanel = 0
		}
	}

	plugin.tx_pdfviewhelpers.settings {
		config {
			class = Bithost\Pdfviewhelpers\Model\BithostTCPDF
			language = eng
		}
		document {
			title = Bithost document
			subject = Autogenerated PDF, By Bithost GmbH
			author = Bithost GmbH
			keywords = Example, Test, Just to show how it works
			creator = TYPO3 pdfviewhelpers
			outputPath = bithost_example.pdf
		}
	}

.. _basicusage_php:

PHP
---

A custom PHP class is needed if you want to add header and footer to all the pages or if you want to customize
the behaviour of TCPDF in any way.

::

    <?php

    namespace Bithost\Pdfviewhelpers\Model;

    /***
     *
     * This file is part of the "PDF ViewHelpers" Extension for TYPO3 CMS.
     *
     *  (c) 2016 Markus Mächler <markus.maechler@bithost.ch>, Bithost GmbH
     *           Esteban Marin <esteban.marin@bithost.ch>, Bithost GmbH
     *
     *  All rights reserved
     *
     *  This script is part of the TYPO3 project. The TYPO3 project is
     *  free software; you can redistribute it and/or modify
     *  it under the terms of the GNU General Public License as published by
     *  the Free Software Foundation; either version 3 of the License, or
     *  (at your option) any later version.
     *
     *  The GNU General Public License can be found at
     *  http://www.gnu.org/copyleft/gpl.html.
     *
     *  This script is distributed in the hope that it will be useful,
     *  but WITHOUT ANY WARRANTY; without even the implied warranty of
     *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     *  GNU General Public License for more details.
     *
     *  This copyright notice MUST APPEAR in all copies of the script!
     ***/

    use TYPO3\CMS\Core\Utility\ExtensionManagementUtility;

    /**
     * BithostTCPDF
     *
     * @author Markus Mächler <markus.maechler@bithost.ch>, Esteban Marin <esteban.marin@bithost.ch>
     */
    class BithostTCPDF extends \TCPDF
    {
        /**
         * @return void
         */
        public function Header()
        {
            $extPath = ExtensionManagementUtility::extPath('pdfviewhelpers');
            $address = "Bithost GmbH \nMilchubckstrasse 83 \nCH-8057 Zürich \n\nhallo@bithost.ch \n044 585 28 20 \n\nwww.bithost.ch";

            $this->SetTextColor(140, 140, 140);
            $this->SetFontSize(11);

            $this->Image($extPath . 'Resources/Public/Examples/BasicUsage/logo.png', 15, 15, 56, 24, '', '', '', FALSE, 300, '', FALSE, FALSE, 0, FALSE, FALSE, FALSE, FALSE);
            $this->MultiCell(null, null, $address, 0, 'R', FALSE, 1, 0, 45, TRUE, 0, FALSE, TRUE, 0, 'T', FALSE);
        }

        /**
         * @return void
         */
        public function Footer()
        {

        }
    }


.. _basicusage_fluid:

Fluid Template
--------------

::

	{namespace pdf=Bithost\Pdfviewhelpers\ViewHelpers}

	<pdf:document outputDestination="I" title="Bithost Example">
		<pdf:page>
			<pdf:text padding="{top:65, right:0, bottom:4, left:0}" color="#8C8C8C">
				Zurich, <f:format.date format="d.m.Y" >now</f:format.date>
			</pdf:text>
			<pdf:headline>Welcome to the extension pdfviewhelpers</pdf:headline>
			<pdf:text>
				Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr.
				Sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
			</pdf:text>
			<pdf:headline>Some more information</pdf:headline>

			<pdf:multiColumn>
				<pdf:column>
					<pdf:text>
						Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua:
					</pdf:text>
					<pdf:list listElements="{0: 'Websites using TYPO3', 1: 'Application Development', 2: 'Mobile Apps', 3: 'Hosting'}"/>
					<pdf:text>
						Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren est Lorem ipsum dolor sit amet.
					</pdf:text>
				</pdf:column>
				<pdf:column>
					<pdf:image src="EXT:pdfviewhelpers/Resources/Public/Examples/BasicUsage/Bithost.jpg" width="200" />
					<pdf:text padding="{top:1, right:0, bottom:0, left:0}" color="#8C8C8C">Esteban Marín, Markus Mächler</pdf:text>
				</pdf:column>
			</pdf:multiColumn>

			<pdf:text padding="{top: 2, right:0, bottom:0, left:0}">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</pdf:text>
		</pdf:page>
	</pdf:document>


.. _basicusage_output:

PDF Output
----------

.. figure:: _assets/output.png
   :width: 600px
   :align: left
   :alt: Bithost Example

   Rendered PDF document
